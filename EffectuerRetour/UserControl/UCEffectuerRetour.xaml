<UserControl
    x:Class="SAE2._01_Loxam.FicheClients.UserControls.UCEffectuerRetour"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:SAE2._01_Loxam.FicheClients.UserControls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="686"
    d:DesignWidth="1040"
    mc:Ignorable="d">

    <StackPanel Margin="20" Background="White">

        <!--  Titre  -->
        <StackPanel Margin="0,0,0,20" Orientation="Horizontal">
            <TextBlock
                Margin="0,0,10,0"
                FontSize="24"
                FontWeight="Bold"
                Text="←" />
            <TextBlock
                FontSize="24"
                FontWeight="Bold"
                Text="Faire un retour" />
        </StackPanel>

        <!--  Nom de l'article  -->

        <!--  DataGrid  -->
        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">

            <TextBlock
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                FontSize="20"
                Text="🔍" />
            <TextBox
                x:Name="txtRecherche"
                Width="300"
                Height="30"
                FontSize="20"
                Text=""
                TextWrapping="Wrap" />
        </StackPanel>

        <!--  Bloc Indisponibilités  -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
        </Grid>

        <StackPanel>
            <TextBlock
                Grid.Row="0"
                Grid.Column="1"
                Text="{Binding Materiel}" />

            <StackPanel
                Margin="0,0,0,10"
                HorizontalAlignment="Right"
                Orientation="Horizontal" />

            <TextBlock
                Margin="0,0,0,10"
                FontSize="20"
                FontWeight="Bold"
                Text="Indisponibilités" />

            <!--  DataGrid  -->
            <DataGrid
                x:Name="DataGridIndisponibilites"
                AutoGenerateColumns="False"
                BorderBrush="#FF688CAF"
                CanUserAddRows="False"
                ColumnHeaderHeight="50"
                FontSize="16"
                HeadersVisibility="Column"
                IsReadOnly="True"
                ItemsSource="{Binding ListeIndisponibilites}"
                RowHeight="50">

                <DataGrid.Columns>

                    <DataGridTextColumn
                        Width="200"
                        Binding="{Binding Materiel}"
                        Header="Matériel" />
                    <DataGridTextColumn
                        Width="150"
                        Binding="{Binding Lieu}"
                        Header="Lieu" />
                    <DataGridTextColumn
                        Width="150"
                        Binding="{Binding DateDebut}"
                        Header="Du" />
                    <DataGridTextColumn
                        Width="150"
                        Binding="{Binding DateFin}"
                        Header="Au" />

                    <!--  Etat  -->
                    <DataGridTemplateColumn Width="150" Header="État">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Border
                                    Padding="5"
                                    Background="{Binding CouleurEtat}"
                                    CornerRadius="5">
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        FontWeight="SemiBold"
                                        Text="{Binding Etat}" />
                                </Border>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <!--  Voir détails  -->


                    <!--  Faire un retour  -->
                    <DataGridTemplateColumn Width="150" Header="">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button
                                    Width="130"
                                    Height="30"
                                    Margin="5"
                                    Background="Red"
                                    Command="{Binding CommandFaireRetour}"
                                    Content="FAIRE UN RETOUR"
                                    Foreground="White" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>

        </StackPanel>
        <Button
            x:Name="btn_effectuer_retour"
            Width="194"
            Height="40"
            Margin="0,20,20,0"
            HorizontalAlignment="Right"
            Background="Red"
            Click="btn_effectuer_retour_Click"
            Content="EFFECTUER UN RETOUR"
            FontWeight="Bold"
            Foreground="White" />

        <!--  Choix de retour  -->

        <!--  Bouton enregistrer  -->

        <!--  Bouton voir détails  -->
    </StackPanel>
</UserControl>
